<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog App</title>
    <link rel="stylesheet" href="application.css">
    <link rel="stylesheet" href="https://fonts.google.com/specimen/Inter?query=inter">   
    <link rel="stylesheet" href="https://fonts.google.com/specimen/Inter?query=5.7.0/css/font-awesome.min.css">     
     
    
</head>
<body>
<div class='user'>
<div class='user name'>
<img class='user img' src='<%= @user.photo %>'>
<h1><%= @user.name %></h1>
</div>
</div>

<div class='bio'>
<p>Bio: 
<br>
<br>
<%= @user.bio %>
</p>
</div>
<div>
      
<% @user.posts.each do |c| %>
  <div class="user-post-preview">
     <h3><%= link_to c.title, user_post_path(c.author_id, c) %></h3>
     <p><%= c.text %></p>
     <p><%= c.author_id %></p>
     <p class="post-data">
     <img class='post-counter-icon' src="https://img.icons8.com/ios/50/null/comments.png"/>
     <span><%= link_to @coments,"Comments:", {:action => 'new'} %><%= c.comments_counter %></span>
     <img onclick='displaycount()' class='post-counter-icon' src="https://img.icons8.com/sf-ultralight/50/null/good-quality.png"/>
     <p class = "carrier"> 0 </p>
     <span>Likes: <%= c.likes_counter %></span>
     
     </p>
     <script>
     var count =(function() {
        var counter = 0;
        return function () {return counter +=1;}

     })();

     function displaycount(){
        document.querySelectorAll("carrier").innerHTML = count();
     }
</script>
  </div>
</div>
<% end %> 

        <div class="button">
          <a href= 'http://localhost:3000/user/1/post'><button type="button" class="post all">See all posts</button></a>
        </div>
</body>      
